---
title: "阿里云2025届暑期实习在线笔试-0428"
author: 
date: 2024-04-28 15:45 +0800
categories: [Code, Interview]
tags: [bit manipulation, math, array, backtracking]
math: true
mermaid: true
pin: false
img_path: /assets/img/posts/post_images/
---



2024 年 4 月 28 日 14:00 - 15:40，阿里云 2025 届工程研发笔试。

总限时 100 分钟，共 100 分。



前面是 8 道单选题、7 道不定项选择题。



最后是三道算法题，分值分别为为 15/15/25 分。



编程题使用 ACM 模式，即需要自己处理输入输出。语言不限，**不能**用本地IDE（阿里系基本都是）。



*Note: 试题回忆 / OCR 可能有错漏，且我的思路及解法较为笨拙，不敢保证正确性。*



抛砖引玉，敬请指正。

## 算法题

### Q1 小红的数组染色 15 pts

小红拿到了一个数组，初始所有元素都是白色，她准备将一些元素染成红色，将另外一些元素染成蓝色。小红希望使得红色元素之和与蓝色元素之和相等，她想知道有多少种不同染色方案？

**输入描述**

第一行输入一个正整数n，代表数组的大小。

第二行输入n个正整数a_i，代表数组的元素。

**输出描述**

一个整数，代表不同的染色方案数量。由于答案可能很大，输出答案对10^9＋7取模的结果。

**示例 1**

**输入**

```
4
1 2 4 3
```

**输出**

```
6
```

**说明**

```
方案1：1和4染红，2和3染蓝。
方案2：1和4染蓝，2和3染红。
方案3：1和2染红，3染蓝。
方案4：1和2染蓝，3染红。
方案5：1和3染红，4染蓝。
方案6：1和3染蓝，4染红。
```

**示例 2**

**输入**

```
3
1 1 1
```

**输出**

```
6
```

**说明**

```
显然只有1个染红、1个染蓝这种可能，共有6种不同的染色方式。
```



#### My Solution

不会做。刚开始用回溯找和为原数组和一半的子集，但这是错误思路。

因为并不用所有白块都染色，可以只染一部分。

拆分数组后再回溯的话，复杂度就会增加很多。

```python
# TODO
```

#### Correct Solution

DP?

```python
# TODO
```



### Q2 小苯的合并极差 15 pts

小苯有一个长n的数组a，他可以对数组进行任意次以下两种操作：

- 选择1 ≤ i＜n，将a_i 和a_ (i+1) 合并为一个数字，结果为 a_i & a_(i+1)。（&表示按位与运算）
- 选择1 ≤ i＜n，将a_i 和a_ (i+1) 合并为一个数字，结果为 a_i | a_(i+1)。（ | 表示按位或运算）

（两种操作均可以执行任意次，前提是数组长度至少为2。当然每次操作执行完后，n 都会减少1。）

小苯希望**最大化**数组的极差，请你帮帮他吧。

极差定义：数组最大值与最小值之间的差距。

**输入描述**

输入包含两行。

第一行一个正整数n （1 ≤ n ≤ 10^5），表示数组 a 的长度。

第二行 n 个整数 a_i（0 ≤  a_i ≤ 10^9），表示数组 a 的值。

**输出描述**



**示例 1**

**输入**

```
2
3 4
1 3 2
4 1
2 2 2 3
```

**输出**

```
YES
NO
```

**说明**

```
第一个测试数据：
将第二根绳子切两刀变为：1，1，1，将第三根绳子切一刀变成1，1。此时所有绳子都长1。
```

#### My Solution

没有思路，骗分。直接输出所有数字的按位或，即默认最小为0，最大为所有数字按位或。通过100%。

```python
# TODO
```

#### Correct Solution

```python
# TODO
```



### Q3 小苯强化武器 25 pts

小苯有一把武器，初始攻击力为0。

现在小苯面前有n个强化石，都可以用于强化该武器，每个强化石有一个强化上限a_i。

具体的，如果小苯使用第i个强化石强化他的武器，那么小苯首先需要选择一个在强化上限以内的非负整数 x 作为强化系数，假设小苯当前武器攻击力为k，那么会变为 k | x（其中|表示按位或操作）。接着第i个强化石在使用后会失效，即无法再次使用。

小苯想知道，这n个强化石最多能使他的武器攻击力强化为多少。

**输入描述**

本题包含多组测试数据。第一行输入一个正整数 T （1 ≤ T ≤ 10^4），表示测试数据组数。

接下来，对于每组测试数据，输入包含两行。

第一行一个正整数 n（1 ≤ n ≤ 2x105），表示可以使用的强化石个数。

第二行 n 个整数a_i（0 ≤ a_i ≤ 10^9），表示每个强化石的强化上限。

（保证所有测试数据中 n 的总和不超过2 ×10^5)

**输出描述**

输出包含 T 行，表示每组测试数据的答案。

对于每组测试数据，输出一行一个整数，表示小苯的武器能达到的最大攻击力。

**示例 1**

**输入**

```
2
5
2 3 3 3 6
3
1 0 0
```

**输出**

```
7
1
```

#### My Solution

骗分解法，把攻击力拉满。答案错误，只通过了9%。

```python
T = int(input())
for _ in range (T):
    n = int (input())
    a = list(map(int, input().split()))
    ans = 0
    for stone in a:
    	length = 0
    	while stone > 0:
    		length += 1
    		stone //= 2
    	# ans |= stone
    	ans = max(ans, 2 ** length - 1)
    print (ans)
```

#### Correct Solution

```python
# TODO
```

